25 Reverse Nodes in k-Group
=======================
[Problem description](https://leetcode.com/problems/reverse-nodes-in-k-group/)

#### Difficulty
<span style="color:red">Hard</span>

#### Keywords
- Linked List
  
#### Idea
The problem is equivalent to repeating [reversal of sub-lists in a given range](92.md) for k times. Recall the auxiliary variables for reversing a sub-list in a given range, we need to memorize the leading and trailing nodes of the sub-list, so that the reversed sub-list can be put back at the right position. Meanwhile, we need to substitute the head of the list with the last node in the first group. In conclusion, we need variables `lead`, `pre` and `post` in addition to the head and tail of every sub-list to be reversed. 

The rest of the algorithm is simply repetition of the reversal. Note that the last few nodes may not form a group since their length is less than *k*. In this case, the algorithm should stop immediately instead of reversing the remainders as a partial group. 

#### Complexity
- Runtime: O(N)
- Space: O(1)
  
#### LC performance
- Runtime: 52 ms
- Memory usage: 14.2 MB

#### Code
```python
class Solution:
    def reverseKGroup(self, head: ListNode, k: int) -> ListNode:
        h = t = head
        lead, pre = None, None
        
        while t:
            for _ in range(k - 1):
                if not t:
                    break
                t = t.next
            if not t:
                break
            cur, post = h, t.next
            while cur != post:
                tmp = cur.next
                cur.next = pre
                pre, cur = cur, tmp
            if lead:
                lead.next = pre
            else:
                head = pre
            lead = h
            lead.next = post
            pre = lead
            h = t = post
        return head
```